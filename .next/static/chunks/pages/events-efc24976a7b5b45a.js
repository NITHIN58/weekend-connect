(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[695],{5378:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/events",function(){return s(4925)}])},4925:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Events}});var r=s(5893),a=s(7294),n=s(1664),l=s.n(n),components_EventCard=e=>{var t;let{event:s}=e;return(0,r.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-lg p-6 mb-6 hover:shadow-xl transition-shadow duration-300 border border-gray-800",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white hover:text-blue-400 transition-colors",children:s.title}),s.capacity&&(0,r.jsx)("div",{className:"bg-gray-800 px-3 py-1 rounded-full",children:(0,r.jsxs)("p",{className:"text-sm font-medium text-blue-400",children:[s.registered_count||0," / ",s.capacity," spots"]})})]}),(0,r.jsx)("p",{className:"text-gray-300 mb-6 line-clamp-2",children:s.description}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,r.jsx)("span",{className:"text-gray-300",children:(e=>{if(!e)return"Date not specified";let t=new Date(e);return t.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})(s.date)})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,r.jsx)("span",{className:"text-gray-300",children:(t=s.time)?t:"Time not specified"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),(0,r.jsx)("span",{className:"text-gray-300",children:s.location||"Location not specified"})]}),s.category&&(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),(0,r.jsx)("span",{className:"text-gray-300",children:s.category})]})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsxs)(l(),{href:"/events/".concat(s.id),className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors duration-200 shadow-md hover:shadow-lg",children:["View Details",(0,r.jsx)("svg",{className:"w-5 h-5 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})})]})},components_EventFilter=e=>{var t,s;let n,{onFilterChange:l}=e,[o,i]=(0,a.useState)({search:"",date:"",location:"",category:""}),c=(t=e=>{l(e)},s=void 0,function(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];clearTimeout(n),n=setTimeout(()=>t.apply(s,r),1e3)}),updateFilter=(e,t)=>{let s={...o,[e]:t};i(s),c(s)};return(0,r.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-lg p-6 mb-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-white",children:"Filter Events"}),(o.search||o.date||o.location||o.category)&&(0,r.jsxs)("button",{onClick:()=>{let e={search:"",date:"",location:"",category:""};i(e),l(e)},className:"text-sm text-blue-400 hover:text-blue-300 flex items-center",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),"Clear Filters"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,r.jsx)("input",{type:"text",placeholder:"Search events...",value:o.search,className:"w-full pl-10 pr-4 py-2.5 bg-gray-800 text-white border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors placeholder-gray-400",onChange:e=>updateFilter("search",e.target.value)})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,r.jsx)("input",{type:"date",value:o.date,className:"w-full pl-10 pr-4 py-2.5 bg-gray-800 text-white border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",onChange:e=>updateFilter("date",e.target.value)})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,r.jsxs)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,r.jsx)("input",{type:"text",placeholder:"Location...",value:o.location,className:"w-full pl-10 pr-4 py-2.5 bg-gray-800 text-white border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors placeholder-gray-400",onChange:e=>updateFilter("location",e.target.value)})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("select",{value:o.category,className:"w-full pl-4 pr-10 py-2.5 bg-gray-800 text-white border border-gray-700 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors appearance-none",onChange:e=>updateFilter("category",e.target.value),children:[(0,r.jsx)("option",{value:"",children:"All Categories"}),(0,r.jsx)("option",{value:"tech",children:"Technology"}),(0,r.jsx)("option",{value:"business",children:"Business"}),(0,r.jsx)("option",{value:"social",children:"Social"}),(0,r.jsx)("option",{value:"education",children:"Education"})]}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]}),(o.search||o.date||o.location||o.category)&&(0,r.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[o.search&&(0,r.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-gray-800 text-blue-300 border border-gray-700",children:["Search: ",o.search,(0,r.jsx)("button",{onClick:()=>updateFilter("search",""),className:"ml-2 text-blue-300 hover:text-blue-200",children:"\xd7"})]}),o.date&&(0,r.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-gray-800 text-blue-300 border border-gray-700",children:["Date: ",new Date(o.date).toLocaleDateString(),(0,r.jsx)("button",{onClick:()=>updateFilter("date",""),className:"ml-2 text-blue-300 hover:text-blue-200",children:"\xd7"})]}),o.location&&(0,r.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-gray-800 text-blue-300 border border-gray-700",children:["Location: ",o.location,(0,r.jsx)("button",{onClick:()=>updateFilter("location",""),className:"ml-2 text-blue-300 hover:text-blue-200",children:"\xd7"})]}),o.category&&(0,r.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-gray-800 text-blue-300 border border-gray-700",children:["Category: ",o.category,(0,r.jsx)("button",{onClick:()=>updateFilter("category",""),className:"ml-2 text-blue-300 hover:text-blue-200",children:"\xd7"})]})]})]})};function Events(){let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(!0),[l,o]=(0,a.useState)(""),[i,c]=(0,a.useState)({}),fetchEvents=async()=>{try{n(!0);let e=new URLSearchParams(i),s=await fetch("/api/events?".concat(e)),r=await fetch("/api/events?".concat(e));if(console.log(await r.json()),!s.ok)throw Error("Failed to fetch events");let a=await s.json();t(a)}catch(e){o("Failed to load events"),console.error(e)}finally{n(!1)}};return((0,a.useEffect)(()=>{fetchEvents()},[i]),s)?(0,r.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,r.jsx)("div",{className:"animate-pulse text-xl text-gray-300",children:"Loading..."})}):l?(0,r.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,r.jsx)("div",{className:"text-xl text-red-400",children:l})}):(0,r.jsx)("div",{className:"min-h-screen bg-black py-8",children:(0,r.jsxs)("div",{className:"container mx-auto px-4 max-w-5xl",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-center text-white mb-8",children:"Upcoming Events"}),(0,r.jsx)("div",{className:"mb-8",children:(0,r.jsx)(components_EventFilter,{onFilterChange:e=>{c(t=>({...t,...e}))}})}),0===e.length?(0,r.jsx)("div",{className:"text-center py-12",children:(0,r.jsx)("p",{className:"text-xl text-gray-300",children:"No events found"})}):(0,r.jsx)("div",{className:"space-y-6",children:e.map(e=>(0,r.jsx)(components_EventCard,{event:e},e.id))})]})})}}},function(e){e.O(0,[664,774,888,179],function(){return e(e.s=5378)}),_N_E=e.O()}]);